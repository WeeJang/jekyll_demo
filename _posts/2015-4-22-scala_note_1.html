---
layouts: default
title: Scala_Note_1
---

<h2>Scala_Note_1</h2>


<pre>
	
1 class 中调用类的伴生对象（object）方法时需要加类名
2 理解var&val VS mutable&immutable的区别
3 理解lazy val.若一个耗时方法被声明为lazy val,则调用该方法的所有方法尽量声明为lazy val.否则类实例化的时候，还是会计算，似的lazy val失效
4 mutable.Map can not cast to immutable.Map
5 Description	Resource	Path	Location	Type
          type mismatch;  found   : item_id.type (with underlying type String)  required: _1	UserMap.scala	/TmallData/src/weejang	line 68	Scala Problem

6 xml: xml 在2.11以后的系列中，都将被作为一个独立的jar引入．
　　refer: http://stackoverflow.com/questions/22223304/how-will-xml-modularisation-in-scala-2-11-play-with-xml-literals

7 @符号的作用：
---1
//绑定匹配变量

     val list = List(User("jangwee",11),1,User("Liuhuapeng",33),4)
     val seeList = for{
       elem @ User(_,_) <- list
     }yield (elem)
     
     println(seeList)    

//output : 
//    List(User(jangwee,11), User(Liuhuapeng,33))





8 sbt 拉取下来的库位置
　～/.ivy/cache
9 akka 需要引入　config.jar 
com.typesafe.
   refer : http://stackoverflow.com/questions/26052261/bad-symbolic-reference-in-scala-ide-for-eclipse

10　　
 过滤数据：


    val wordFrequencies = ("hh", 5) :: ("ww", 2) :: ("aa", 7) :: Nil

    //method1,Tuple2
    def format1(wf: Seq[(String, Int)]): Seq[String] = {
      wf.filter { x => x._2 > 2 && x._2 < 7 }.map { _._1 }
    }

    println(format1(wordFrequencies))//List(hh)

    //method2,模式匹配结构
    def format2(wf: Seq[(String, Int)]): Seq[String] = {
      wf.filter { case (word, count) => count > 2 && count < 7 }.map { case (word, _) => word }
    }

    println(format2(wordFrequencies))//List(hh)
    //method3-1,偏函数
    //    val pf : PartialFunction[(String,Int),String] = {
    //      case (word,freq) if freq > 2 && freq < 7 => word
    //    }

    //method3-2,显式定义偏函数Trait
    val pf = new PartialFunction[(String, Int), String] {
      def apply(wordFrequency: (String, Int)): String = {
        wordFrequency match {
          case (word, count) if count > 2 && count < 7 => word
        }

      }
      def isDefinedAt(wordFrequency: (String, Int)): Boolean = {
        wordFrequency match {
          case (word, count) if count > 2 && count < 7 => true
          case _ => false
        }
      }
    }

    // Compile Okay,RunTime Error
    //  Exception in thread "main" scala.MatchError: (ww,2) (of class scala.Tuple2)
    //println(wordFrequencies.map(pf))

    println(wordFrequencies.map(pf.isDefinedAt(_))) //List(true, false, false)

    println(wordFrequencies.collect(pf)) // List(hh)




</pre>


